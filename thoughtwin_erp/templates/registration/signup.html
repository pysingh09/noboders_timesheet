{% extends 'base.html' %}
{% load widget_tweaks %}
{% load staticfiles %}
{% block content %}


<form class="form-horizontal signup_form" method="POST" enctype="multipart/form-data" class="form-horizontal"> 
<h2>Create New Employee</h2>
  {% csrf_token %}

{% if form.errors %}
       {% for field in form %}
           {% for error in field.errors %}
               <div class="alert alert-danger">
                   <strong>{{ field.label }} : {{ error|escape }}</strong>
               </div>
           {% endfor %}
       {% endfor %}
       {% for error in form.non_field_errors %}
           <div class="alert alert-danger">
               <strong>{{ error|escape }}</strong>
           </div>
       {% endfor %}
   {% endif %}

{% if form2.errors %}
       {% for field in form2 %}
           {% for error in field.errors %}
               <div class="alert alert-danger">
                   <strong>{{ field.label }} : {{ error|escape }}</strong>
               </div>
           {% endfor %}
       {% endfor %}
       {% for error in form2.non_field_errors %}
           <div class="alert alert-danger">
               <strong>{{ error|escape }}</strong>
           </div>
       {% endfor %}
   {% endif %}

    <p>Username  :<br>{{ form.username }}</p>
    <p>Password  :<br>{{ form.password1 }}</p>
    <p>Confirm Password  :<br>{{ form.password2 }}</p>
    <p>First Name:<br>{{ form.first_name }}</p>
    <p>Last Name :<br>{{ form.last_name }}</p>
    <p>Email     :<br>{{ form.email }}</p>
    <p>Employee Id :<br>{{ form2.employee_id }}</p>
    <p>Contact   :<br>{{ form2.contact_no }}</p>
    <p>Designation   :<br>{{ form2.designation }}</p>
    <p>NOTE : Date Format :YYYY-MM-DD</p>
    <p>DOB       :<br>{{ form2.date_of_birth }}</p>
    <p>DOJ       :<br>{{ form2.date_of_joining}}</p>
    <p>Team Lead   :<br>{{ form2.teamlead }}</p>


      <button type="submit" class="btn btn-success sub_btn" id = "phonenumber">Submit</button>
</form>


<script>
    $(document).ready(function () {
        $('#id_date_of_birth ').datepicker({

          dateFormat: 'yy-mm-dd'
        });
    });
    $(document).ready(function () {
        $('#id_date_of_joining').datepicker({

          dateFormat: 'yy-mm-dd'
        });
    });

</script>
<script>
  $(document).ready(function(){
    $("#phonenumber").click(function(e){
    phone = $('#id_contact_no').val();
    if(phone.match(/^\+?([0-9]{2})\)?[-. ]?([0-9]{4})[-. ]?([0-9]{4})$/))
    {  
      location.reload();
      return true;
    } 

    {
        alert('Invalid Phone Number');
        return false;
    }
    });
    });
</script>

{% endblock %} 