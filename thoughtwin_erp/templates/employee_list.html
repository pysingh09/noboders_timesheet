{% extends 'base.html' %}
{% load staticfiles %}    
{% block title %}{% endblock %}
{% block content %} 
    <h2>Company Employee Details</h2>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
       <div class="search-container">
     <table class = "table" id="myTable1" border="2">
        <thead>
          <tr>
            <th>Username</th>
            <th>Employee ID</th>
            <th>Contact</th>
            <th>Designation</th>
            <th>Date Of Birth</th>
            <th>Date Of joining</th>
            <th>Teamlead</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
            {% for profile in object_list %}
              <tr>    
                <td><a href="{% url 'employee:edit' profile.pk %}">{{ profile.user }}</a></td>
                <td>{{ profile.employee_id }}</td>
                <td>{{ profile.contact_no}}</td>
                <td>{{ profile.get_designation_display }}</td>
                <td>{{ profile.date_of_birth }}</td>
                <td>{{ profile.date_of_joining }}</td>
                <td>{{ profile.teamlead }}</td>
                {% if profile.user.is_active %}
                    <td><button style="background-color: red" class="deactivateEmployee" name="pk" value="{{ profile.pk }}" data-is_active="False">Deactivate</button></td>
                {% else %}
                     <td><button style="background-color: green;" class="deactivateEmployee" name="pk" value="{{ profile.pk }}" data-is_active="True">Activate</button></td>
                {% endif %}
              </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% block js %}
  {{block.super}}
  <script src="{% static 'js/data.js' %}"></script>
{% endblock js %}
{% endblock %}
